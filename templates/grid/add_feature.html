{% extends 'base.html' %}
{% load i18n page_metadata_tags %}

{% block metadata %}
    {% translate "Feature Form" as trans_title %}
    {% page_metadata page_title=trans_title %}
{% endblock metadata %}

{% block content %}
    <!-- Breadcrumb Section -->
    <section class="py-4 bg-primary/10">
        <div class="container px-4 mx-auto">
            <div class="flex flex-col gap-3 sm:flex-row sm:justify-between sm:items-center">
                <div class="flex items-center text-sm text-muted-foreground">
                    <a href="{% url 'home' %}" class="hover:underline">{% translate "Home" %}</a>
                    <span class="mx-2">»</span>
                    <a href="{% url 'grids' %}" class="hover:underline">{% translate "Grids" %}</a>
                    <span class="mx-2">»</span>
                    {% if object %}
                        <a href="{% url 'grid' object.grid.slug %}" class="hover:underline">{{ object.grid.title }}</a>
                    {% else %}
                        <a href="{% url 'grid' grid.slug %}" class="hover:underline">{{ grid.title }}</a>
                    {% endif %}
                    <span class="mx-2">»</span>
                    <span class="font-medium text-foreground truncate">{% if object %}{% translate "Edit Feature" %}{% else %}{% translate "Add Feature" %}{% endif %}</span>
                </div>
            </div>
        </div>
    </section>

    <div class="container py-8 px-4 mx-auto">
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-foreground">{% if object %}{% translate "Edit Feature" %}{% else %}{% translate "Add Feature" %}{% endif %}</h1>
            <p class="pt-2 text-muted-foreground">{% if object %}{% translate "Edit the feature details." %}{% else %}{% translate "Create a new feature for the grid." %}{% endif %}</p>
        </div>

        <div class="max-w-3xl card">
            <div class="p-6 card-content">
                <form method="post">
                    {% csrf_token %}
                    {% include "partials/form_renderer.html" %}

                    <div class="mt-6">
                        <button type="submit" class="w-full md:w-auto btn-primary">
                            {% if object %}
                                <i class="mr-1 text-lg ph-bold ph-pencil-simple"></i>
                                {% translate "Save Changes" %}
                            {% else %}
                                <i class="mr-1 text-lg ph-bold ph-plus"></i>
                                {% translate "Create Feature" %}
                            {% endif %}
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock content %}
