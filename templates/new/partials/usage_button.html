{% load i18n %}
<div id="{% if mobile %}mobile-usage-btn-{{ package.id }}{% else %}usage-btn-{{ package.id }}{% endif %}" class="flex gap-1.5 items-center">
    {% if not mobile %}
        <span class="text-xs font-medium text-foreground">{{ package.usage.count|default:0 }}</span>
    {% endif %}
    {% if request.user.is_authenticated %}
        {% if is_using %}
            <button type="button"
                    class="inline-flex items-center justify-center {% if mobile %}w-7 h-7 rounded-md{% else %}w-5 h-5 rounded{% endif %} border border-emerald-500/50 bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20 hover:border-emerald-500 transition-colors"
                    hx-get="{% url 'usage' package.slug 'remove' %}?htmx=1{% if mobile %}&mobile=1{% endif %}"
                    hx-target="#{% if mobile %}mobile-usage-btn-{{ package.id }}{% else %}usage-btn-{{ package.id }}{% endif %}"
                    hx-swap="outerHTML"
                    title="{% if mobile %}{% translate 'Remove from usage list' %}{% else %}{% translate 'Remove from your usage list' %}{% endif %}">
                <i class="ph-bold ph-minus {% if mobile %}text-sm{% else %}text-xs{% endif %}"></i>
            </button>
        {% else %}
            <button type="button"
                    class="inline-flex items-center justify-center {% if mobile %}w-7 h-7 rounded-md{% else %}w-5 h-5 rounded{% endif %} border border-border bg-muted/50 text-muted-foreground hover:bg-muted hover:border-muted-foreground/50 transition-colors"
                    hx-get="{% url 'usage' package.slug 'add' %}?htmx=1{% if mobile %}&mobile=1{% endif %}"
                    hx-target="#{% if mobile %}mobile-usage-btn-{{ package.id }}{% else %}usage-btn-{{ package.id }}{% endif %}"
                    hx-swap="outerHTML"
                    title="{% if mobile %}{% translate 'Add to usage list' %}{% else %}{% translate 'Add to your usage list' %}{% endif %}">
                <i class="ph-bold ph-plus {% if mobile %}text-sm{% else %}text-xs{% endif %}"></i>
            </button>
        {% endif %}
    {% endif %}
</div>
