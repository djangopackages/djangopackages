{% extends 'new/base.html' %}
{% load i18n page_metadata_tags %}

{% block metadata %}
    {% translate "Add Package" as trans_title %}
    {% page_metadata page_title=trans_title %}
{% endblock metadata %}

{% block content %}
    <!-- Breadcrumb Section -->
    <section class="py-4 bg-primary/10">
        <div class="container px-4 mx-auto">
            <div class="flex flex-col gap-3 sm:flex-row sm:justify-between sm:items-center">
                <div class="flex items-center text-sm text-muted-foreground">
                    <a href="{% url 'home' %}" class="hover:underline">{% translate "Home" %}</a>
                    <span class="mx-2">»</span>
                    <a href="{% url 'packages' %}" class="hover:underline">{% translate "Packages" %}</a>
                    <span class="mx-2">»</span>
                    <span class="font-medium text-foreground truncate">{% translate "Add Package" %}</span>
                </div>
            </div>
        </div>
    </section>

    <div class="container py-8 px-4 mx-auto">
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-foreground">{% translate "Add Package" %}</h1>
            {% if grid %}
                <p class="pt-2 text-muted-foreground">
                    {% blocktranslate with grid_title=grid.title %}Add a new package to the <strong>{{ grid_title }}</strong> grid.{% endblocktranslate %}
                </p>
            {% else %}
                <p class="pt-2 text-muted-foreground">{% translate "Add a new package to the directory." %}</p>
            {% endif %}
        </div>

        <div class="max-w-3xl card">
            <div class="p-6 card-content" id="package-form-container">
                {% if form.is_bound %}
                    {% include "new/partials/package_form.html" %}
                {% else %}
                    {% include "new/partials/repo_url_form.html" %}
                {% endif %}
            </div>
        </div>
    </div>
{% endblock content %}
